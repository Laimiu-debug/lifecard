<!--pages/discover/discover.wxml-->
<view class="page-container">
  <!-- çƒ­é—¨å¡ç‰‡ -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">ğŸ”¥ çƒ­é—¨å¡ç‰‡</text>
      <view class="time-range">
        <text 
          class="range-item {{timeRange === 'day' ? 'active' : ''}}"
          data-range="day"
          bindtap="onTimeRangeChange"
        >ä»Šæ—¥</text>
        <text 
          class="range-item {{timeRange === 'week' ? 'active' : ''}}"
          data-range="week"
          bindtap="onTimeRangeChange"
        >æœ¬å‘¨</text>
        <text 
          class="range-item {{timeRange === 'month' ? 'active' : ''}}"
          data-range="month"
          bindtap="onTimeRangeChange"
        >æœ¬æœˆ</text>
      </view>
    </view>
    <scroll-view class="hot-list" scroll-x enable-flex>
      <view 
        class="hot-card" 
        wx:for="{{hotCards}}" 
        wx:key="id"
        data-id="{{item.id}}"
        bindtap="onCardTap"
      >
        <image src="{{item.media[0].thumbnail_url || item.media[0].url}}" class="hot-image" mode="aspectFill" />
        <view class="hot-info">
          <text class="hot-title text-ellipsis">{{item.title}}</text>
          <text class="hot-stats">â¤ï¸ {{item.like_count}}</text>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- éšæœºå‘ç° -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">ğŸ² éšæœºå‘ç°</text>
      <text class="refresh-btn" bindtap="onRefreshRandom">æ¢ä¸€æ‰¹</text>
    </view>
    <view class="random-list">
      <view 
        class="random-card" 
        wx:for="{{randomCards}}" 
        wx:key="id"
        data-id="{{item.id}}"
        bindtap="onCardTap"
      >
        <image src="{{item.media[0].thumbnail_url || item.media[0].url}}" class="random-image" mode="aspectFill" />
        <view class="random-info">
          <text class="random-title text-ellipsis-2">{{item.title}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>
</view>
